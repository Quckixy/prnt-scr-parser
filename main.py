import requests
import os
import random
from bs4 import BeautifulSoup
from PIL import Image
import psutil
import time
import keyboard

symbols = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9"]
proxy = {"http": "http://155.0.181.254:43496","http": "http://155.94.133.54:59394","http": "http://181.205.20.210:7654","http": "http://222.165.221.12:58687","http": "http://186.251.226.10:8080","http": "http://165.16.5.77:1981","http": "http://78.138.99.77:1080","http": "http://194.233.69.90:443","http": "http://202.57.35.74:38629","http": "http://212.175.55.46:53281","http": "http://195.9.61.22:45225","http": "http://36.91.45.10:51672","http": "http://170.106.113.118:59394","http": "http://200.105.215.18:33630","http": "http://101.99.95.54:80","http": "http://103.148.192.77:8080","http": "http://103.145.133.22:42325","http": "http://20.81.62.32:3128","http": "http://161.202.226.194:80","http": "http://181.114.61.1:8085","http": "http://105.27.245.253:6969","http": "http://194.233.69.38:443","http": "http://5.172.24.68:61444","http": "http://85.195.104.71:80","http": "http://14.177.236.212:55443","http": "http://34.138.225.120:8888","http": "http://122.144.4.210:63123","http": "http://103.124.2.229:3128","http": "http://41.222.209.14:808","http": "http://41.222.209.12:808","http": "http://13.250.112.31:443","http": "http://140.227.126.229:59394","http": "http://95.172.52.137:3128","http": "http://13.250.105.27:443","http": "http://46.4.91.36:3128","http": "http://20.47.108.204:8888","http": "http://194.224.192.226:8080","http": "http://80.59.199.213:8080","http": "http://80.59.199.212:8080","http": "http://20.81.106.180:8888","http": "http://213.230.68.200:3128","http": "http://213.230.90.106:3128","http": "http://109.200.156.102:8080","http": "http://190.108.85.98:999","http": "http://154.0.171.221:3128","http": "http://191.97.14.19:999","http": "http://196.216.65.57:8080","http": "http://200.125.168.134:999","http": "http://180.210.184.226:8080","http": "http://116.80.69.253:3128","http": "http://46.35.249.189:41419","http": "http://154.73.108.173:1981","http": "http://177.154.20.240:8080","http": "http://203.135.25.182:8080","http": "http://190.2.214.241:999","http": "http://41.65.236.52:1981","http": "http://118.99.113.246:3127","http": "http://103.4.167.46:8080","http": "http://1.20.217.221:8080","http": "http://103.156.249.59:3127","http": "http://45.167.90.105:999","http": "http://181.143.235.98:12345","http": "http://154.236.184.79:1981","http": "http://154.236.184.67:1981","http": "http://181.114.61.17:8085","http": "http://103.151.46.2:3127","http": "http://180.183.122.60:8080","http": "http://101.32.46.113:3128","http": "http://109.246.33.246:8080","http": "http://131.100.51.250:999","http": "http://160.119.237.84:8088","http": "http://124.70.46.14:3128","http": "http://181.225.54.59:6969","http": "http://201.168.205.4:999","http": "http://119.15.95.158:8080","http": "http://190.61.82.170:999","http": "http://204.199.113.28:999","http": "http://111.201.122.55:8888","http": "http://115.110.207.120:3128","http": "http://189.199.94.206:999","http": "http://187.190.226.64:9991","http": "http://201.174.10.170:999","http": "http://45.177.110.42:999","http": "http://186.202.137.106:8080","http": "http://103.141.142.229:10011","http": "http://54.39.126.243:3128","http": "http://154.236.168.169:1981","http": "http://190.8.38.84:999","http": "http://101.6.65.75:3128","http": "http://43.132.120.218:59394","http": "http://43.135.71.94:3128","http": "http://43.132.217.55:59394","http": "http://43.132.216.58:59394","http": "http://43.135.67.18:59394","http": "http://43.128.39.126:59394","http": "http://47.241.119.138:38888","http": "http://43.128.35.237:59394","http": "http://43.128.23.158:59394","http": "http://43.129.80.28:59394","http": "http://185.239.105.211:3128","http": "http://122.50.5.148:10000","http": "http://144.76.116.242:80","http": "http://12.220.14.50:8181","http": "http://3.95.108.97:80","http": "http://3.224.205.253:80","http": "http://3.216.58.165:80","http": "http://34.192.172.235:80","http": "http://3.211.65.185:80","http": "http://18.204.234.136:80","http": "http://18.207.70.248:80","http": "http://3.221.105.1:80","http": "http://3.218.203.153:80","http": "http://198.144.149.82:3128","http": "http://18.232.20.87:80","http": "http://23.107.176.33:32180","http": "http://49.51.242.151:808","http": "http://23.107.176.56:32180","http": "http://91.217.121.210:3128","http": "http://50.233.42.98:51696","http": "http://155.94.133.7:59394","http": "http://206.161.97.47:31337","http": "http://52.54.83.159:80","http": "http://35.185.117.31:80","http": "http://35.184.126.42:80","http": "http://23.107.176.15:32180","http": "http://23.107.176.80:32180","http": "http://103.229.85.205:4145","http": "http://34.70.168.180:80","http": "http://200.85.137.41:4153","http": "http://103.73.74.183:1080","http": "http://123.200.2.122:5678","http": "http://3.222.173.245:80","http": "http://103.47.93.239:1080","http": "http://189.91.178.129:5678","http": "http://103.115.255.161:36331","http": "http://168.205.217.164:4145","http": "http://198.55.103.123:59394","http": "http://14.140.131.82:3128","http": "http://104.167.6.218:80","http": "http://96.95.164.41:3128","http": "http://124.204.33.162:8000","http": "http://194.60.242.127:4153","http": "http://91.195.254.121:3629","http": "http://45.7.56.199:4153","http": "http://82.99.203.76:58523","http": "http://202.51.112.22:5430","http": "http://102.176.160.85:5678","http": "http://112.6.117.178:8085","http": "http://20.94.229.106:80","http": "http://118.174.46.146:45764","http": "http://103.59.203.189:4145","http": "http://125.73.131.137:9091","http": "http://103.246.2.202:5678","http": "http://102.66.228.123:5678","http": "http://122.155.165.191:3128","http": "http://111.43.79.98:8085","http": "http://120.220.220.95:8085","http": "http://112.6.117.135:8085","http": "http://223.96.90.216:8085","http": "http://190.211.160.114:32410","http": "http://15.161.145.56:3128","http": "http://43.224.10.30:6667","http": "http://195.242.125.189:1080","http": "http://138.19.193.114:65528","http": "http://103.94.133.92:4153","http": "http://103.16.12.41:5678","http": "http://186.248.113.158:5678","http": "http://170.106.37.218:4781","http": "http://191.7.215.246:5678","http": "http://185.189.208.65:4153","http": "http://191.6.135.94:4145","http": "http://61.8.75.186:1080","http": "http://109.171.37.168:4153","http": "http://3.142.107.42:80","http": "http://198.59.147.149:8080","http": "http://190.237.90.120:5678","http": "http://101.96.123.20:1080","http": "http://155.94.134.150:59394","http": "http://37.152.172.233:4153","http": "http://43.229.73.233:61059","http": "http://175.158.41.253:5678","http": "http://34.231.175.107:80","http": "http://43.224.10.43:6667","http": "http://138.204.140.199:53900","http": "http://131.196.184.11:5678","http": "http://200.199.227.42:4153","http": "http://210.245.51.76:4145","http": "http://103.212.94.253:41363","http": "http://67.207.84.37:80","http": "http://109.72.49.140:5678","http": "http://197.234.13.86:4145","http": "http://117.252.18.20:5678","http": "http://207.199.242.252:1080","http": "http://103.31.157.210:4145","http": "http://115.178.54.110:1080","http": "http://31.42.164.195:5678","http": "http://61.216.123.55:60808","http": "http://95.140.27.135:58901","http": "http://103.54.19.33:4145","http": "http://117.254.58.121:5678","http": "http://103.66.233.153:4145","http": "http://77.43.201.154:8080","http": "http://201.28.87.43:4145","http": "http://182.253.3.156:80","http": "http://176.98.95.105:32018","http": "http://94.74.132.129:808","http": "http://36.37.180.59:65205","http": "http://185.56.180.14:5678","http": "http://124.158.167.242:8080","http": "http://46.63.81.195:4145","http": "http://182.253.16.171:4145","http": "http://123.213.70.176:4145","http": "http://103.231.160.74:8080","http": "http://103.137.124.18:55492","http": "http://27.71.59.122:5678","http": "http://81.199.14.49:1088","http": "http://190.217.14.125:999","http": "http://170.238.126.161:5678","http": "http://155.94.201.59:59394","http": "http://110.74.208.154:21776","http": "http://103.52.153.102:59394","http": "http://59.152.91.13:9954","http": "http://103.106.78.98:3629","http": "http://187.216.93.20:55443","http": "http://160.16.124.11:3128","http": "http://118.70.140.207:80","http": "http://184.149.25.55:5678","http": "http://178.169.212.119:5678","http": "http://197.255.52.214:8081","http": "http://45.168.15.112:4153","http": "http://190.196.176.5:60080","http": "http://187.62.88.8:4153","http": "http://31.209.105.238:4145","http": "http://103.208.200.115:23500","http": "http://200.29.8.18:5678","http": "http://178.62.64.42:41423","http": "http://178.136.2.208:55443","http": "http://14.232.161.29:10801","http": "http://27.131.168.193:3629","http": "http://191.241.226.230:53281","http": "http://202.183.155.242:4153","http": "http://51.15.242.51:3128","http": "http://118.136.238.47:8080","http": "http://43.224.10.31:6666","http": "http://41.203.195.241:5678","http": "http://89.171.41.90:6969","http": "http://194.233.69.41:443","http": "http://116.206.62.244:57433","http": "http://114.6.87.177:60811","http": "http://110.39.126.131:8080","http": "http://103.75.148.9:4145","http": "http://155.94.163.177:59394","http": "http://198.55.102.51:59394","http": "http://52.250.1.171:80","http": "http://103.109.58.54:8080","http": "http://36.92.85.66:8080","http": "http://203.193.131.74:3128","http": "http://5.190.132.237:8080","http": "http://89.47.197.11:5678","http": "http://176.110.121.90:21776","http": "http://103.194.249.250:9999","http": "http://89.28.32.203:57391","http": "http://181.129.73.194:8080","http": "http://36.89.89.167:8888","http": "http://103.214.113.41:80","http": "http://149.210.235.107:5566","http": "http://200.106.187.252:999","http": "http://36.255.104.9:1080","http": "http://49.156.39.162:5678","http": "http://155.94.178.203:59394","http": "http://193.242.178.90:44551","http": "http://43.228.180.60:80","http": "http://195.225.48.193:58302","http": "http://176.118.209.12:53281","http": "http://131.108.118.27:8080","http": "http://176.120.223.189:55443","http": "http://41.164.68.194:8080","http": "http://185.104.252.10:9090","http": "http://203.190.12.122:8080","http": "http://150.129.54.111:6666","http": "http://140.227.211.47:8080","http": "http://185.108.141.19:8080","http": "http://85.173.165.36:46330","http": "http://110.34.166.184:4153","http": "http://188.65.237.30:50333","http": "http://103.216.103.26:80","http": "http://124.120.231.254:1080","http": "http://203.130.227.189:8080","http": "http://117.242.147.97:4153","http": "http://91.202.240.208:51678","http": "http://202.79.52.244:5678","http": "http://181.143.69.227:5678","http": "http://52.78.172.171:80","http": "http://43.128.95.112:808","http": "http://103.216.103.25:80","http": "http://168.181.63.246:5678","http": "http://206.253.164.120:80","http": "http://198.199.86.11:3128","http": "http://176.116.168.114:3629","http": "http://198.55.103.173:59394","http": "http://45.123.25.49:54913","http": "http://005.252.161.48:8080","http": "http://45.199.148.36:80","http": "http://45.199.148.4:80","http": "http://157.119.234.50:80","http": "http://209.141.35.151:80","http": "http://109.75.47.204:4153","http": "http://41.160.238.106:5678","http": "http://41.79.191.182:80","http": "http://41.79.191.181:80","http": "http://14.97.26.195:80","http": "http://103.149.162.194:80","http": "http://18.141.184.73:443","http": "http://146.88.36.48:8080","http": "http://114.143.66.81:80","http": "http://121.78.139.75:80","http": "http://199.19.224.3:80","http": "http://154.16.63.16:3128","http": "http://38.94.109.7:80","http": "http://47.254.75.151:8181","http": "http://180.87.102.68:80","http": "http://103.142.140.22:80","http": "http://180.87.102.69:80","http": "http://176.9.119.170:8080","http": "http://199.19.226.12:80","http": "http://34.82.168.48:80","http": "http://45.199.148.2:80","http": "http://199.19.225.250:80","http": "http://103.142.141.71:80","http": "http://139.99.237.62:80","http": "http://196.15.213.235:3128","http": "http://121.78.139.77:80","http": "http://51.195.201.93:80","http": "http://194.5.193.183:80","http": "http://103.105.49.53:80","http": "http://206.253.164.108:80","http": "http://206.253.164.198:80","http": "http://206.253.164.146:80","http": "http://206.253.164.101:80","http": "http://38.94.111.208:80","http": "http://209.141.55.228:80","http": "http://206.253.164.28:80","http": "http://206.253.164.122:80","http": "http://209.141.56.127:80","http": "http://13.251.126.106:80","http": "http://206.253.164.110:80","http": "http://103.102.14.8:3127","http": "http://160.16.215.141:3128","http": "http://185.56.209.114:52342","http": "http://118.201.86.150:3128","http": "http://111.92.240.134:30598","http": "http://155.94.156.193:59394","http": "http://35.169.178.165:3128","http": "http://197.248.83.89:6969","http": "http://181.129.70.82:46752","http": "http://110.232.78.55:55667","http": "http://92.204.185.148:1080","http": "http://212.5.206.97:8080","http": "http://202.154.180.53:46717","http": "http://95.25.41.172:55443","http": "http://124.217.246.133:3128","http": "http://92.204.251.185:1080","http": "http://154.72.199.202:41201","http": "http://41.254.52.188:8080","http": "http://92.204.185.157:1080","http": "http://178.236.35.128:6969","http": "http://198.55.96.90:59394","http": "http://198.55.102.129:59394","http": "http://3.92.190.74:59394","http": "http://197.157.230.134:8080","http": "http://146.120.214.9:8080","http": "http://67.43.224.147:3128","http": "http://155.94.134.104:59394","http": "http://170.155.5.235:8080","http": "http://151.106.55.35:1080","http": "http://210.220.67.60:8080","http": "http://27.72.28.32:45006","http": "http://143.198.70.90:9300","http": "http://86.62.68.141:3128","http": "http://18.136.210.166:443","http": "http://163.172.35.121:8088","http": "http://185.13.39.162:8080","http": "http://45.195.152.121:59394","http": "http://151.106.1.72:1080","http": "http://92.204.251.187:1080","http": "http://58.147.186.10:8080","http": "http://143.244.139.84:3128","http": "http://150.129.171.123:6666","http": "http://92.204.251.186:1080","http": "http://200.69.79.221:55443","http": "http://103.12.160.85:31231","http": "http://185.94.218.57:43403","http": "http://160.16.73.179:3128","http": "http://191.242.178.209:3128","http": "http://181.129.74.58:40667"}
headers = {
		'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:45.0) Gecko/20100101 Firefox/45.0'
	  }


while True:
	randomed = str("".join(random.sample(symbols,k=6)))
	try:
		r = requests.get(f'https://prnt.sc/{randomed}', proxies=proxy, headers=headers)
		im = Image.open(requests.get(BeautifulSoup(r.text, "html.parser").find_all('div')[16].img['src'], proxies = proxy, headers = headers, stream=True).raw)
		im.save(f"images/{str(''.join(random.sample(symbols,k=6)))}.png", "PNG")
		print(f'saved https://prnt.sc/{randomed}')
	except Exception as e:
		print(f'error at https://prnt.sc/{randomed}')
		